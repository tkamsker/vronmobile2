 ✅ Feature 003 Specification Update Complete

  All specification artifacts have been successfully updated to reflect the new redirect-based mobile OAuth flow:

  Commits Made

  1. 4ba74a4 - Updated spec.md and contracts for redirect-based OAuth
  2. ae5127b - Updated plan.md to align with new specification
  3. f28f46c - Regenerated tasks.md with redirect-based implementation tasks

  What Changed

  Old Flow (Obsolete)

  User → Google Sign-In SDK → idToken → signInWithGoogle mutation → accessToken

  New Flow (Current)

  User → Backend OAuth URL redirect → Google consent →
  Deep link callback with code → exchangeMobileAuthCode mutation → accessToken

  Key Specification Updates

  - Dependencies: google_sign_in → url_launcher ^6.2.0
  - Platform Config: Google Cloud Console setup → Deep link URL schemes (AndroidManifest.xml, Info.plist)
  - GraphQL Mutation: signInWithGoogle(idToken) → exchangeMobileAuthCode(code)
  - OAuth Flow: Native SDK → Backend redirect with deep link callback
  - New Files: deep_link_handler.dart, OAuth redirect logic in auth_service.dart

  Tasks Summary

  - Total: 67 tasks (vs 58 old tasks)
  - MVP (US1): 29 tasks - Complete redirect OAuth flow
  - Tests: 25 TDD test tasks
  - Parallelizable: 38 tasks marked [P]
  - Estimated Time: 10-14 hours (including TDD, testing, polish)

  Next Steps

  Option 1: Run Implementation (if backend ready)
  /speckit.implement

  Option 2: Start Manual Implementation
  # First task: Add url_launcher dependency
  # T001: Add `url_launcher: ^6.2.0` to pubspec.yaml

  Option 3: Update Remaining Outdated Documents
  - data-model.md still references GoogleAuthCredentials with idToken
  - research.md still references google_sign_in package decision
  - quickstart.md still has old implementation guide

  These docs can be updated later or left as historical reference for the old approach.

  ---
  The specification is now fully aligned and ready for implementation! All critical artifacts (spec.md, plan.md, tasks.md, contracts) describe the redirect-based OAuth flow consistently.

